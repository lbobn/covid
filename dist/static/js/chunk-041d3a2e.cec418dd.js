(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-041d3a2e"],{"356d":function(t,e,a){},ade3:function(t,e,a){"use strict";function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return l}))},b0c0:function(t,e,a){var l=a("83ab"),o=a("9bf2").f,i=Function.prototype,n=i.toString,r=/^\s*function ([^ (]*)/,s="name";l&&!(s in i)&&o(i,s,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(t){return""}}})},c0c0:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.addDialogFormVisible=!0,t.edit(t.scope.row)}}},[t._v(" 新增 ")]),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容"},model:{value:t.stext,callback:function(e){t.stext=e},expression:"stext"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},on:{change:t.getKey},slot:"prepend",model:{value:t.cname,callback:function(e){t.cname=e},expression:"cname"}},[a("el-option",{attrs:{label:"物资名称",value:"name"}}),a("el-option",{attrs:{label:"负责人",value:"charge"}}),a("el-option",{attrs:{label:"更新时间",value:"updateTime"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.search()}},slot:"append"})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"1"}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"编号",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"数量",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"计量单位",width:"80"}}),a("el-table-column",{attrs:{prop:"isImp",label:"是否为重点物资",width:"120"}}),a("el-table-column",{attrs:{prop:"charge",label:"负责人",width:"100"}}),a("el-table-column",{attrs:{prop:"cnum",label:"负责人电话",width:"150"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"200"}}),a("el-table-column",{attrs:{width:"120",label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"修改",attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){t.dialogFormVisible=!0,t.edit(e.row)}}}),a("el-button",{staticClass:"删除",attrs:{type:"primary",icon:"el-icon-delete",size:"small"},on:{click:function(a){return t.deleteRecord(e.row)}}})]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}),a("el-dialog",{attrs:{slot:"",title:"更新物资详情",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}},slot:"default"},[a("el-form",{ref:"Mat2",attrs:{model:t.Mat2}},[a("el-form-item",{attrs:{label:"物资名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat2.name,callback:function(e){t.$set(t.Mat2,"name",e)},expression:"Mat2.name"}})],1),a("el-form-item",{attrs:{label:"物资数量","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat2.count,callback:function(e){t.$set(t.Mat2,"count",e)},expression:"Mat2.count"}})],1),a("el-form-item",{attrs:{label:"计量单位","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat2.type,callback:function(e){t.$set(t.Mat2,"type",e)},expression:"Mat2.type"}})],1),a("el-form-item",{attrs:{label:"是否为重要物资","label-width":t.formLabelWidth,prop:"isImp"}},[a("el-radio",{attrs:{label:"是"},on:{change:function(e){return t.test(e)}},model:{value:t.Mat2.isImp,callback:function(e){t.$set(t.Mat2,"isImp",e)},expression:"Mat2.isImp"}},[t._v("是")]),a("el-radio",{attrs:{label:"否"},on:{change:function(e){return t.test(e)}},model:{value:t.Mat2.isImp,callback:function(e){t.$set(t.Mat2,"isImp",e)},expression:"Mat2.isImp"}},[t._v("否")])],1),a("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat2.charge,callback:function(e){t.$set(t.Mat2,"charge",e)},expression:"Mat2.charge"}})],1),a("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat2.cnum,callback:function(e){t.$set(t.Mat2,"cnum",e)},expression:"Mat2.cnum"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1,t.update()}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{slot:"",title:"新增物资",visible:t.addDialogFormVisible},on:{"update:visible":function(e){t.addDialogFormVisible=e}},slot:"default"},[a("el-form",{ref:"Mat1",staticClass:"demo-Mat",staticStyle:{width:"100%"},attrs:{model:t.Mat1,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"物资名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat1.name,callback:function(e){t.$set(t.Mat1,"name",e)},expression:"Mat1.name"}})],1),a("el-form-item",{attrs:{label:"物资数量","label-width":t.formLabelWidth,prop:"count"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat1.count,callback:function(e){t.$set(t.Mat1,"count",e)},expression:"Mat1.count"}})],1),a("el-form-item",{attrs:{label:"计量单位","label-width":t.formLabelWidth,prop:"type"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat1.type,callback:function(e){t.$set(t.Mat1,"type",e)},expression:"Mat1.type"}})],1),a("el-form-item",{attrs:{label:"是否为重要物资","label-width":t.formLabelWidth,prop:"isImp"}},[a("el-radio",{attrs:{label:"是"},model:{value:t.Mat1.isImp,callback:function(e){t.$set(t.Mat1,"isImp",e)},expression:"Mat1.isImp"}},[t._v("是")]),a("el-radio",{attrs:{label:"否"},model:{value:t.Mat1.isImp,callback:function(e){t.$set(t.Mat1,"isImp",e)},expression:"Mat1.isImp"}},[t._v("否")])],1),a("el-form-item",{attrs:{label:"负责人","label-width":t.formLabelWidth,prop:"charge"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat1.charge,callback:function(e){t.$set(t.Mat1,"charge",e)},expression:"Mat1.charge"}})],1),a("el-form-item",{attrs:{label:"负责人电话","label-width":t.formLabelWidth,prop:"cnum"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Mat1.cnum,callback:function(e){t.$set(t.Mat1,"cnum",e)},expression:"Mat1.cnum"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addDialogFormVisible=!1,t.submitForm("Mat1")}}},[t._v("立即创建")]),a("el-button",{on:{click:function(e){return t.resetForm("Mat1")}}},[t._v("重置")])],1)],1)],1)],1)],1)},o=[],i=a("ade3"),n=(a("b0c0"),a("4de4"),{data:function(){var t;return t={cname:"",stext:"",formLabelWidth:"120px",options:[],value:[],list:[],loading:!1,tableData:null,total:null,dialogTableVisible:!1,dialogFormVisible:!1,addDialogFormVisible:!1},Object(i["a"])(t,"formLabelWidth","120px"),Object(i["a"])(t,"currentpage",1),Object(i["a"])(t,"pagesize",10),Object(i["a"])(t,"Mat2",{id:"",name:"",count:"",type:"",isImp:"",charge:"",cnum:"",updateTime:""}),Object(i["a"])(t,"Mat1",{name:"",count:"",type:"",isImp:"",charge:"",cnum:""}),Object(i["a"])(t,"rules",{name:[{required:!0,message:"请输入物资名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],count:[{required:!0,message:"请输入物资数量",trigger:"blur"}],type:[{required:!0,message:"请输入计量单位",trigger:"blur"}],isImp:[{required:!0,message:"请输入是否为重要物资",trigger:"blur"}],charge:[{required:!0,message:"请输入负责人",trigger:"blur"}],cnum:[{required:!0,message:"请输入负责人电话",trigger:"blur"}]}),t},methods:{reload:function(){var t=this;axios.get("http://localhost:8080/Material/findAll/"+this.currentpage+"/"+this.pagesize).then((function(e){t.tableData=e.data.data.records,t.total=e.data.data.total}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;axios.post("http://localhost:8080/Material/save",e.Mat1).then((function(t){"success"==t.data&&e.$alert("物资添加成功！","消息",{confirmButtonText:"确定",callback:function(t){console.log("--------------------------------------------------------------------------------------------------"),reload(),console.log("--------------------------------------------------------------------------------------------------")}})}))}))},update:function(){var t=this;axios.put("http://localhost:8080/Material/update",this.Mat2).then((function(e){console.log(e.data),"success"==e.data&&t.$alert(t.Mat2.name+"的物资记录修改成功！","消息",{confirmButtonText:"确定",callback:function(e){t.reload()}})}))},resetForm:function(t){this.$refs[t].resetFields()},test:function(t){this.Mat2.isImp=t},search:function(){var t=this;this.stext?axios.get("http://localhost:8080/Material/search/"+this.searchKey+"/"+this.stext).then((function(e){t.tableData=e.data.data,t.total=e.data.data.total})):axios.get("http://localhost:8080/Material/findAll/"+this.currentpage+"/"+this.pagesize).then((function(e){t.tableData=e.data.data.records,t.total=e.data.data.total,t.cname=""}))},getKey:function(t){this.searchKey=t},deleteRecord:function(t){var e=this;this.$confirm("是否确定要删除"+t.name+"的物资记录?","删除数据",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){axios.delete("http://localhost:8080/Material/deleteById/"+t.id).then((function(a){e.$alert(t.name+"的物资记录删除成功！","消息",{confirmButtonText:"确定",callback:function(t){e.reload()}})}))}))},edit:function(t){var e=this;axios.get("http://localhost:8080/Material/findById/"+t.id).then((function(t){e.Mat2=t.data.data}))},handleCurrentChange:function(t){var e=this;this.currentpage=t,axios.get("http://localhost:8080/Material/findAll/"+this.currentpage+"/"+this.pagesize).then((function(t){e.tableData=t.data.data.records,e.total=t.data.data.total}))},handleSizeChange:function(t){var e=this;this.pageSize=t,axios.get("http://localhost:8080/Material/findAll/"+this.currentpage+"/"+this.pagesize).then((function(t){e.tableData=t.data.data.records,e.total=t.data.data.total}))},remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options=[]}},created:function(){var t=this;axios.get("http://localhost:8080/Material/findAll/"+this.currentpage+"/"+this.pagesize).then((function(e){t.tableData=e.data.data.records,t.total=e.data.data.total}))}}),r=n,s=(a("f651"),a("2877")),c=Object(s["a"])(r,l,o,!1,null,null,null);e["default"]=c.exports},f651:function(t,e,a){"use strict";a("356d")}}]);
//# sourceMappingURL=chunk-041d3a2e.cec418dd.js.map